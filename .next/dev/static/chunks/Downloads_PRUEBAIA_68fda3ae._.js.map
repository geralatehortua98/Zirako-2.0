{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yeral/Downloads/PRUEBAIA/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,mUAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qVAAC,kTAAsB;QACrB,KAAK;QACL,WAAW,IAAA,8IAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,qVAAC,uTAA2B;YAAC,WAAW,IAAA,8IAAE,EAAC;sBACzC,cAAA,qVAAC,6TAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,kTAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yeral/Downloads/PRUEBAIA/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\")\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,8QAAG,EAAC;AAE1B,MAAM,sBAAQ,mUAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qVAAC,kTAAmB;QAAC,KAAK;QAAK,WAAW,IAAA,8IAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;;AAErF,MAAM,WAAW,GAAG,kTAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yeral/Downloads/PRUEBAIA/app/auth/login/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Label } from \"@/components/ui/label\"\nimport Link from \"next/link\"\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { MessageCircle, Loader2, AlertCircle } from \"lucide-react\"\n\nexport default function LoginPage() {\n  const router = useRouter()\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [rememberMe, setRememberMe] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState(\"\")\n\n  useEffect(() => {\n    const isLoggedIn = localStorage.getItem(\"zirako_logged_in\")\n    if (isLoggedIn === \"true\") {\n      router.push(\"/dashboard\")\n    }\n  }, [router])\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(\"\")\n    setIsLoading(true)\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ email, password }),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Error al iniciar sesión\")\n      }\n\n      localStorage.setItem(\"zirako_logged_in\", \"true\")\n      localStorage.setItem(\"zirako_user\", JSON.stringify(data.user))\n      \n      // --- CORRECCIÓN AQUI ---\n      // El backend (lib/auth.ts) mapea el campo 'nombre' de la BD a la propiedad 'name'.\n      // Aquí leemos 'name' primero para asegurar que capturamos el dato correcto.\n      localStorage.setItem(\"zirako_user_name\", data.user.name || data.user.nombre || \"\")\n      // -----------------------\n\n      localStorage.setItem(\"zirako_user_email\", data.user.email || \"\")\n      localStorage.setItem(\"zirako_user_id\", String(data.user.id || \"\"))\n\n      if (rememberMe) {\n        localStorage.setItem(\"zirako_email\", email)\n      }\n\n      router.push(\"/dashboard\")\n    } catch (err: any) {\n      setError(err.message || \"Credenciales inválidas\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-primary flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-primary rounded-lg p-8 flex flex-col items-center\">\n          <Link href=\"/\" className=\"mb-6 cursor-pointer hover:opacity-80 transition-opacity\">\n            <svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M40 8L68 24V56L40 72L12 56V24L40 8Z\" fill=\"#E8F5E3\" stroke=\"#E8F5E3\" strokeWidth=\"2\" />\n            </svg>\n          </Link>\n\n          <h1 className=\"text-4xl font-bold text-accent mb-2\">ZIRAKO</h1>\n          <p className=\"text-accent text-sm mb-8\">Reutiliza con propósito</p>\n\n          {error && (\n            <div className=\"w-full bg-red-500/20 border border-red-400 text-red-200 px-4 py-3 rounded-lg mb-4 flex items-center gap-2\">\n              <AlertCircle className=\"h-5 w-5 flex-shrink-0\" />\n              <span className=\"text-sm\">{error}</span>\n            </div>\n          )}\n\n          <form onSubmit={handleLogin} className=\"w-full space-y-4\">\n            <div className=\"space-y-2\">\n              <Input\n                type=\"email\"\n                placeholder=\"Ingresa tu email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"bg-white text-gray-900 border-none h-12 placeholder:text-gray-500\"\n                required\n                disabled={isLoading}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Input\n                type=\"password\"\n                placeholder=\"Ingresa tu contraseña\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"bg-white text-gray-900 border-none h-12 placeholder:text-gray-500\"\n                required\n                disabled={isLoading}\n              />\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <Checkbox\n                id=\"remember\"\n                checked={rememberMe}\n                onCheckedChange={(checked) => setRememberMe(checked as boolean)}\n                className=\"border-accent data-[state=checked]:bg-accent\"\n              />\n              <Label htmlFor=\"remember\" className=\"text-accent text-sm cursor-pointer\">\n                Recordar datos de usuario\n              </Label>\n            </div>\n\n            <Button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-accent text-accent-foreground hover:bg-accent/90 h-12 text-base font-semibold\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                  Iniciando sesión...\n                </>\n              ) : (\n                \"Iniciar Sesión\"\n              )}\n            </Button>\n\n            <Link href=\"/auth/register\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                className=\"w-full border-accent text-accent hover:bg-accent/10 h-12 text-base font-semibold bg-transparent\"\n              >\n                Registro\n              </Button>\n            </Link>\n\n            <div className=\"text-center\">\n              <Link href=\"/auth/forgot-password\" className=\"text-accent text-sm hover:underline\">\n                ¿Olvidaste tu contraseña?\n              </Link>\n            </div>\n          </form>\n\n          <Link href=\"/soporte/ticket\" className=\"mt-6 w-full\">\n            <Button\n              variant=\"outline\"\n              className=\"w-full border-accent/50 text-accent hover:bg-accent/10 h-10 text-sm font-medium bg-transparent flex items-center gap-2\"\n            >\n              <MessageCircle className=\"h-4 w-4\" />\n              ¿Necesitas ayuda? Envía un ticket\n            </Button>\n          </Link>\n\n          <div className=\"mt-8 text-accent text-xs\">T &C Versión 1.2</div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;AAXA;;;;;;;;;AAae,SAAS;;IACtB,MAAM,SAAS,IAAA,0SAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iUAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iUAAQ,EAAC;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iUAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iUAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iUAAQ,EAAC;IAEnC,IAAA,kUAAS;+BAAC;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,eAAe,QAAQ;gBACzB,OAAO,IAAI,CAAC;YACd;QACF;8BAAG;QAAC;KAAO;IAEX,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,SAAS;QACT,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,aAAa,OAAO,CAAC,oBAAoB;YACzC,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC,KAAK,IAAI;YAE5D,0BAA0B;YAC1B,mFAAmF;YACnF,4EAA4E;YAC5E,aAAa,OAAO,CAAC,oBAAoB,KAAK,IAAI,CAAC,IAAI,IAAI,KAAK,IAAI,CAAC,MAAM,IAAI;YAC/E,0BAA0B;YAE1B,aAAa,OAAO,CAAC,qBAAqB,KAAK,IAAI,CAAC,KAAK,IAAI;YAC7D,aAAa,OAAO,CAAC,kBAAkB,OAAO,KAAK,IAAI,CAAC,EAAE,IAAI;YAE9D,IAAI,YAAY;gBACd,aAAa,OAAO,CAAC,gBAAgB;YACvC;YAEA,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,qVAAC;QAAI,WAAU;kBACb,cAAA,qVAAC;YAAI,WAAU;sBACb,cAAA,qVAAC;gBAAI,WAAU;;kCACb,qVAAC,kUAAI;wBAAC,MAAK;wBAAI,WAAU;kCACvB,cAAA,qVAAC;4BAAI,OAAM;4BAAK,QAAO;4BAAK,SAAQ;4BAAY,MAAK;4BAAO,OAAM;sCAChE,cAAA,qVAAC;gCAAK,GAAE;gCAAsC,MAAK;gCAAU,QAAO;gCAAU,aAAY;;;;;;;;;;;;;;;;kCAI9F,qVAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,qVAAC;wBAAE,WAAU;kCAA2B;;;;;;oBAEvC,uBACC,qVAAC;wBAAI,WAAU;;0CACb,qVAAC,mVAAW;gCAAC,WAAU;;;;;;0CACvB,qVAAC;gCAAK,WAAU;0CAAW;;;;;;;;;;;;kCAI/B,qVAAC;wBAAK,UAAU;wBAAa,WAAU;;0CACrC,qVAAC;gCAAI,WAAU;0CACb,cAAA,qVAAC,+JAAK;oCACJ,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,WAAU;oCACV,QAAQ;oCACR,UAAU;;;;;;;;;;;0CAId,qVAAC;gCAAI,WAAU;0CACb,cAAA,qVAAC,+JAAK;oCACJ,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,QAAQ;oCACR,UAAU;;;;;;;;;;;0CAId,qVAAC;gCAAI,WAAU;;kDACb,qVAAC,qKAAQ;wCACP,IAAG;wCACH,SAAS;wCACT,iBAAiB,CAAC,UAAY,cAAc;wCAC5C,WAAU;;;;;;kDAEZ,qVAAC,+JAAK;wCAAC,SAAQ;wCAAW,WAAU;kDAAqC;;;;;;;;;;;;0CAK3E,qVAAC,iKAAM;gCACL,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,0BACC;;sDACE,qVAAC,4UAAO;4CAAC,WAAU;;;;;;wCAA8B;;mDAInD;;;;;;0CAIJ,qVAAC,kUAAI;gCAAC,MAAK;0CACT,cAAA,qVAAC,iKAAM;oCACL,MAAK;oCACL,SAAQ;oCACR,WAAU;8CACX;;;;;;;;;;;0CAKH,qVAAC;gCAAI,WAAU;0CACb,cAAA,qVAAC,kUAAI;oCAAC,MAAK;oCAAwB,WAAU;8CAAsC;;;;;;;;;;;;;;;;;kCAMvF,qVAAC,kUAAI;wBAAC,MAAK;wBAAkB,WAAU;kCACrC,cAAA,qVAAC,iKAAM;4BACL,SAAQ;4BACR,WAAU;;8CAEV,qVAAC,yVAAa;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAKzC,qVAAC;wBAAI,WAAU;kCAA2B;;;;;;;;;;;;;;;;;;;;;;AAKpD;GAlKwB;;QACP,0SAAS;;;KADF","debugId":null}}]
}