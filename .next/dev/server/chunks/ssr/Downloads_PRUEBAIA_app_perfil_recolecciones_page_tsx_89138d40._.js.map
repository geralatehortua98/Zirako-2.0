{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yeral/Downloads/PRUEBAIA/app/perfil/recolecciones/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { ChevronLeft, Truck, Calendar, MapPin, Clock, Package } from \"lucide-react\"\nimport Link from \"next/link\"\n\ninterface Recoleccion {\n  id: number\n  direccion: string\n  ciudad: string\n  fecha_programada: string\n  horario_preferido: string\n  descripcion: string\n  estado: string\n  created_at: string\n}\n\nexport default function MisRecoleccionesPage() {\n  const [recolecciones, setRecolecciones] = useState<Recoleccion[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    cargarRecolecciones()\n  }, [])\n\n  const cargarRecolecciones = async () => {\n    try {\n      const res = await fetch(\"/api/collections?mis_recolecciones=true\", {\n        credentials: \"include\",\n      })\n      const data = await res.json()\n\n      if (data.success) {\n        setRecolecciones(data.data || [])\n      }\n    } catch (error) {\n      console.error(\"Error cargando recolecciones:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const getEstadoColor = (estado: string) => {\n    switch (estado) {\n      case \"pendiente\":\n        return \"bg-yellow-500/20 text-yellow-400\"\n      case \"confirmada\":\n        return \"bg-blue-500/20 text-blue-400\"\n      case \"en_camino\":\n        return \"bg-purple-500/20 text-purple-400\"\n      case \"completada\":\n        return \"bg-green-500/20 text-green-400\"\n      case \"cancelada\":\n        return \"bg-red-500/20 text-red-400\"\n      default:\n        return \"bg-gray-500/20 text-gray-400\"\n    }\n  }\n\n  const getEstadoLabel = (estado: string) => {\n    const labels: Record<string, string> = {\n      pendiente: \"Pendiente\",\n      confirmada: \"Confirmada\",\n      en_camino: \"En camino\",\n      completada: \"Completada\",\n      cancelada: \"Cancelada\",\n    }\n    return labels[estado] || estado\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-primary flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-accent\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-primary\">\n      <div className=\"container mx-auto px-4 py-8 max-w-4xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/perfil\">\n              <Button\n                variant=\"outline\"\n                className=\"bg-accent text-accent-foreground border-accent hover:bg-accent/90 h-10 px-4 flex items-center gap-2\"\n              >\n                <ChevronLeft className=\"h-5 w-5\" />\n                Regresar\n              </Button>\n            </Link>\n            <h1 className=\"text-2xl font-bold text-white\">Mis Recolecciones</h1>\n          </div>\n          <Link href=\"/recoleccion\">\n            <Button className=\"bg-accent text-accent-foreground hover:bg-accent/90\">\n              <Truck className=\"h-4 w-4 mr-2\" />\n              Nueva\n            </Button>\n          </Link>\n        </div>\n\n        {/* Lista de recolecciones */}\n        {recolecciones.length === 0 ? (\n          <Card className=\"bg-secondary border-secondary p-8 text-center\">\n            <Truck className=\"h-12 w-12 text-accent/50 mx-auto mb-4\" />\n            <p className=\"text-primary-foreground/70\">No tienes recolecciones programadas</p>\n            <Link href=\"/recoleccion\">\n              <Button className=\"mt-4 bg-accent text-accent-foreground hover:bg-accent/90\">\n                Programar recolección\n              </Button>\n            </Link>\n          </Card>\n        ) : (\n          <div className=\"space-y-4\">\n            {recolecciones.map((rec) => (\n              <Card key={rec.id} className=\"bg-secondary border-secondary p-4\">\n                <div className=\"flex items-start justify-between mb-3\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"bg-primary rounded-full p-3\">\n                      <Truck className=\"h-6 w-6 text-accent\" />\n                    </div>\n                    <div>\n                      <p className=\"font-bold text-primary-foreground\">Recolección #{rec.id}</p>\n                      <span className={`text-xs px-2 py-1 rounded-full ${getEstadoColor(rec.estado)}`}>\n                        {getEstadoLabel(rec.estado)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm\">\n                  <div className=\"flex items-center gap-2 text-primary-foreground/70\">\n                    <Calendar className=\"h-4 w-4\" />\n                    <span>{new Date(rec.fecha_programada).toLocaleDateString(\"es-CO\")}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-primary-foreground/70\">\n                    <Clock className=\"h-4 w-4\" />\n                    <span>{rec.horario_preferido}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-primary-foreground/70 md:col-span-2\">\n                    <MapPin className=\"h-4 w-4\" />\n                    <span>\n                      {rec.direccion}, {rec.ciudad}\n                    </span>\n                  </div>\n                  {rec.descripcion && (\n                    <div className=\"flex items-start gap-2 text-primary-foreground/70 md:col-span-2\">\n                      <Package className=\"h-4 w-4 mt-0.5\" />\n                      <span>{rec.descripcion}</span>\n                    </div>\n                  )}\n                </div>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}